<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (C) 2013 - 2018, Logical Clocks AB and RISE SICS AB. All rights reserved
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy of this
  ~ software and associated documentation files (the "Software"), to deal in the Software
  ~ without restriction, including without limitation the rights to use, copy, modify, merge,
  ~ publish, distribute, sublicense, and/or sell copies of the Software, and to permit
  ~ persons to whom the Software is furnished to do so, subject to the following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in all copies or
  ~ substantial portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS  OR IMPLIED, INCLUDING
  ~ BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  ~ NONINFRINGEMENT. IN NO EVENT SHALL  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
  ~ DAMAGES OR  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  ~ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  ~
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
  <h:head>
    <title>HopsWorks - Password reset</title>
    <link rel="stylesheet" type="text/css" href="#{resource['/css/layout.css']}" />
    <link rel="stylesheet" type="text/css" href="#{resource['/css/security.css']}" />       
  </h:head>                                                    

  <h:body >


    <div  align="center" class="CSQ"> 
      <h:form>
        <p:selectOneMenu id="sec_question" 
                         value="#{resetPassword.question}" 
                         required="true"
                         requiredMessage="Select security question">
          <f:selectItem itemLabel="Select Security Question" itemValue="" />
          <f:selectItems value="#{resetPassword.questions}"/>
        </p:selectOneMenu>  


        <p:inputText id="ans" label="ans" 
                     value="#{resetPassword.answer}" 
                     required="true"
                     requiredMessage="Answer Security Question"
                     autocomplete="false"/>
        <p:watermark for="ans" value="Answer your security question" />

        <p:password id="cur" value="#{resetPassword.current}" 
                    required="true" autocomplete="false"
                    requiredMessage="Enter password"  />
        <p:watermark for="cur" value="Enter your password" />


        <p:messages id="messages" autoUpdate="true" closable="true"/>



        <h:panelGrid columns="2" style="margin-top: 10px;">
          <p:commandButton 
            type="submit"
            value="Submit"
            ajax="false"
            action="#{resetPassword.changeSecQuestion()}"/>

          <p:commandButton 
            type="submit"
            value="Cancel"
            action="profile" process="@this" />

        </h:panelGrid>

      </h:form>
    </div>



  </h:body>
</html>